{"expireTime":9007200843649060000,"key":"gatsby-plugin-mdx-entire-payload-3ff26a971f06b6bef88e9c1db4799cf0-","val":{"mdast":{"type":"root","children":[{"type":"import","value":"import DefaultLayout from \"C:/Users/alexa/OneDrive/Documents/Master/Blockchain/primitive-docs/node_modules/gatsby-theme-docz/src/base/Layout.js\"","position":{"start":{"line":3,"column":1,"offset":2},"end":{"line":3,"column":145,"offset":146},"indent":[]}},{"type":"export","default":true,"value":"export default DefaultLayout","position":{"start":{"line":5,"column":1,"offset":148},"end":{"line":5,"column":29,"offset":176},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Primitive contracts","position":{"start":{"line":8,"column":4,"offset":182},"end":{"line":8,"column":23,"offset":201},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":179},"end":{"line":8,"column":23,"offset":201},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Mainnet","position":{"start":{"line":9,"column":5,"offset":206},"end":{"line":9,"column":12,"offset":213},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":202},"end":{"line":9,"column":12,"offset":213},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Active - ","position":{"start":{"line":10,"column":3,"offset":216},"end":{"line":10,"column":12,"offset":225},"indent":[]}},{"type":"link","title":null,"url":"https://etherscan.io/address/0xced83f96aa38bfe34617ea1f699f9f0022548f61","children":[{"type":"text","value":"PrimeOption - ETH $200 DAI Put Expiring May 30","position":{"start":{"line":10,"column":13,"offset":226},"end":{"line":10,"column":59,"offset":272},"indent":[]}}],"position":{"start":{"line":10,"column":12,"offset":225},"end":{"line":10,"column":133,"offset":346},"indent":[]}},{"type":"text","value":"\n0xced83f96AA38bFe34617ea1F699F9f0022548f61","position":{"start":{"line":10,"column":133,"offset":346},"end":{"line":11,"column":43,"offset":389},"indent":[1]}}],"position":{"start":{"line":10,"column":3,"offset":216},"end":{"line":11,"column":43,"offset":389},"indent":[1]}}],"position":{"start":{"line":10,"column":1,"offset":214},"end":{"line":11,"column":43,"offset":389},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Active - ","position":{"start":{"line":12,"column":3,"offset":392},"end":{"line":12,"column":12,"offset":401},"indent":[]}},{"type":"link","title":null,"url":"https://etherscan.io/address/0xb0a4d596939715f203fa9e907935938fedea715f","children":[{"type":"text","value":"PrimeRedeem - Redeem token for ETH 200 Put","position":{"start":{"line":12,"column":13,"offset":402},"end":{"line":12,"column":55,"offset":444},"indent":[]}}],"position":{"start":{"line":12,"column":12,"offset":401},"end":{"line":12,"column":129,"offset":518},"indent":[]}},{"type":"text","value":"\n0xB0A4d596939715f203Fa9E907935938FEdEa715F","position":{"start":{"line":12,"column":129,"offset":518},"end":{"line":13,"column":43,"offset":561},"indent":[1]}}],"position":{"start":{"line":12,"column":3,"offset":392},"end":{"line":13,"column":43,"offset":561},"indent":[1]}}],"position":{"start":{"line":12,"column":1,"offset":390},"end":{"line":13,"column":43,"offset":561},"indent":[1]}}],"position":{"start":{"line":10,"column":1,"offset":214},"end":{"line":13,"column":43,"offset":561},"indent":[1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Overview","position":{"start":{"line":15,"column":4,"offset":566},"end":{"line":15,"column":12,"offset":574},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":563},"end":{"line":15,"column":12,"offset":574},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The protocol's design is rooted in simplicity, strength, and security. We keep the basic logic\nseparate from the complex logic, and favor efficient simple systems.","position":{"start":{"line":17,"column":1,"offset":576},"end":{"line":18,"column":69,"offset":739},"indent":[1]}}],"position":{"start":{"line":17,"column":1,"offset":576},"end":{"line":18,"column":69,"offset":739},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"The primitives we design serve as the seed to larger systems. These are contracts that are designed to be used in other\nsystems as building blocks and mediums to exchange value. ","position":{"start":{"line":20,"column":1,"offset":741},"end":{"line":21,"column":59,"offset":919},"indent":[1]}}],"position":{"start":{"line":20,"column":1,"offset":741},"end":{"line":21,"column":59,"offset":919},"indent":[1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"The Prime","position":{"start":{"line":23,"column":4,"offset":924},"end":{"line":23,"column":13,"offset":933},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":921},"end":{"line":23,"column":13,"offset":933},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The first of these core contract 'primitives' we've designed is the ","position":{"start":{"line":25,"column":1,"offset":935},"end":{"line":25,"column":69,"offset":1003},"indent":[]}},{"type":"link","title":null,"url":"","children":[{"type":"text","value":"Prime","position":{"start":{"line":25,"column":70,"offset":1004},"end":{"line":25,"column":75,"offset":1009},"indent":[]}}],"position":{"start":{"line":25,"column":69,"offset":1003},"end":{"line":25,"column":78,"offset":1012},"indent":[]}},{"type":"text","value":", \na smarter ERC-20 token with embedded optionality. ","position":{"start":{"line":25,"column":78,"offset":1012},"end":{"line":26,"column":51,"offset":1065},"indent":[1]}}],"position":{"start":{"line":25,"column":1,"offset":935},"end":{"line":26,"column":51,"offset":1065},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"The Prime is a token which gives the holder the ability to swap two \nassets at a fixed exchange rate for a fixed lifetime.\nIn this way, it acts similarly to a traditional binary option from legacy finance. We've designed the\nPrime to match the specification of a binary option.","position":{"start":{"line":28,"column":1,"offset":1067},"end":{"line":31,"column":53,"offset":1344},"indent":[1,1,1]}}],"position":{"start":{"line":28,"column":1,"offset":1067},"end":{"line":31,"column":53,"offset":1344},"indent":[1,1,1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"The binary option specification:","position":{"start":{"line":34,"column":6,"offset":1352},"end":{"line":34,"column":38,"offset":1384},"indent":[]}}],"position":{"start":{"line":34,"column":1,"offset":1347},"end":{"line":34,"column":38,"offset":1384},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"- Underlying asset.\n- Strike Price denominated in $USD.\n- Expiration date.","position":{"start":{"line":35,"column":1,"offset":1385},"end":{"line":37,"column":23,"offset":1471},"indent":[1,1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"The Prime specification:","position":{"start":{"line":39,"column":6,"offset":1478},"end":{"line":39,"column":30,"offset":1502},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":1473},"end":{"line":39,"column":30,"offset":1502},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"- Address of underlying token.\n- Address of stike token.\n- \"Base\" value (Amount of underlying tokens).\n- \"Price\" value (Amount of strike tokens).\n- Expiration Date, a UNIX timestamp.","position":{"start":{"line":40,"column":1,"offset":1503},"end":{"line":44,"column":41,"offset":1705},"indent":[1,1,1,1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Four Token Design","position":{"start":{"line":46,"column":6,"offset":1712},"end":{"line":46,"column":23,"offset":1729},"indent":[]}}],"position":{"start":{"line":46,"column":1,"offset":1707},"end":{"line":46,"column":23,"offset":1729},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The Prime contract accepts certain tokens as inputs and knows what tokens to output. There are four\ncritical tokens that are apart of this system:","position":{"start":{"line":47,"column":1,"offset":1730},"end":{"line":48,"column":47,"offset":1876},"indent":[1]}}],"position":{"start":{"line":47,"column":1,"offset":1730},"end":{"line":48,"column":47,"offset":1876},"indent":[1]}},{"type":"code","lang":null,"meta":null,"value":"- Prime\n- Redeem\n- Underlying\n- Strike","position":{"start":{"line":49,"column":1,"offset":1877},"end":{"line":52,"column":13,"offset":1931},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The Prime is a token which lets the user swap strike tokens for underlying tokens. ","position":{"start":{"line":54,"column":1,"offset":1933},"end":{"line":54,"column":84,"offset":2016},"indent":[]}}],"position":{"start":{"line":54,"column":1,"offset":1933},"end":{"line":54,"column":84,"offset":2016},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This is possible because in order to create new Primes, there has to be deposited underlying tokens.\nThe simplicity in the system\ncomes from this four token design, which makes the input/output calculations simple accounting formulas.","position":{"start":{"line":56,"column":1,"offset":2018},"end":{"line":58,"column":105,"offset":2252},"indent":[1,1]}}],"position":{"start":{"line":56,"column":1,"offset":2018},"end":{"line":58,"column":105,"offset":2252},"indent":[1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Accounting Formulae & Functions","position":{"start":{"line":60,"column":4,"offset":2257},"end":{"line":60,"column":35,"offset":2288},"indent":[]}}],"position":{"start":{"line":60,"column":1,"offset":2254},"end":{"line":60,"column":35,"offset":2288},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"The Golden Ratio","position":{"start":{"line":62,"column":5,"offset":2294},"end":{"line":62,"column":21,"offset":2310},"indent":[]}}],"position":{"start":{"line":62,"column":1,"offset":2290},"end":{"line":62,"column":21,"offset":2310},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"- Base    Underlying    Primes\n- ----- = ---------- = ---------\n- Price     Strike      Redeems","position":{"start":{"line":64,"column":1,"offset":2312},"end":{"line":66,"column":36,"offset":2419},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Mint","position":{"start":{"line":68,"column":5,"offset":2425},"end":{"line":68,"column":9,"offset":2429},"indent":[]}}],"position":{"start":{"line":68,"column":1,"offset":2421},"end":{"line":68,"column":9,"offset":2429},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"- Input Underlying Tokens = Output Prime Tokens.\n- Input Underlying Tokens / Rate = Output Redeem Tokens.","position":{"start":{"line":69,"column":1,"offset":2430},"end":{"line":70,"column":61,"offset":2543},"indent":[1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Swap (Exercise)","position":{"start":{"line":72,"column":5,"offset":2549},"end":{"line":72,"column":20,"offset":2564},"indent":[]}}],"position":{"start":{"line":72,"column":1,"offset":2545},"end":{"line":72,"column":20,"offset":2564},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"- Input Strike Tokens * Rate = Output Underlying Tokens.","position":{"start":{"line":73,"column":1,"offset":2565},"end":{"line":73,"column":61,"offset":2625},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Redeem","position":{"start":{"line":75,"column":5,"offset":2631},"end":{"line":75,"column":11,"offset":2637},"indent":[]}}],"position":{"start":{"line":75,"column":1,"offset":2627},"end":{"line":75,"column":11,"offset":2637},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"- Input Redeem Tokens = Output Strike Tokens.","position":{"start":{"line":76,"column":1,"offset":2638},"end":{"line":76,"column":50,"offset":2687},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Close","position":{"start":{"line":78,"column":5,"offset":2693},"end":{"line":78,"column":10,"offset":2698},"indent":[]}}],"position":{"start":{"line":78,"column":1,"offset":2689},"end":{"line":78,"column":10,"offset":2698},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"- Input Redeem Tokens * Rate + Prime Tokens = Output Underlying Tokens.","position":{"start":{"line":79,"column":1,"offset":2699},"end":{"line":79,"column":76,"offset":2774},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"What's the Rate?","position":{"start":{"line":81,"column":5,"offset":2780},"end":{"line":81,"column":21,"offset":2796},"indent":[]}}],"position":{"start":{"line":81,"column":1,"offset":2776},"end":{"line":81,"column":21,"offset":2796},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The rate is the exchange rate, also called the strike price, between the two tokens that the Prime is defined with.","position":{"start":{"line":83,"column":1,"offset":2798},"end":{"line":83,"column":116,"offset":2913},"indent":[]}}],"position":{"start":{"line":83,"column":1,"offset":2798},"end":{"line":83,"column":116,"offset":2913},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"- Rate = \"Base\" / \"Price\", where Base is the amount of underlying tokens and price is the amount of strike tokens.","position":{"start":{"line":85,"column":1,"offset":2915},"end":{"line":85,"column":119,"offset":3033},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Example #1","position":{"start":{"line":87,"column":4,"offset":3038},"end":{"line":87,"column":14,"offset":3048},"indent":[]}}],"position":{"start":{"line":87,"column":1,"offset":3035},"end":{"line":87,"column":14,"offset":3048},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Scenario","position":{"start":{"line":89,"column":6,"offset":3055},"end":{"line":89,"column":14,"offset":3063},"indent":[]}}],"position":{"start":{"line":89,"column":1,"offset":3050},"end":{"line":89,"column":14,"offset":3063},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We want to make a Prime that lets the user buy WETH at some fixed price,\nhow can we do that?","position":{"start":{"line":90,"column":1,"offset":3064},"end":{"line":91,"column":20,"offset":3156},"indent":[1]}}],"position":{"start":{"line":90,"column":1,"offset":3064},"end":{"line":91,"column":20,"offset":3156},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"This is the full constructor of the Prime contract:","position":{"start":{"line":93,"column":1,"offset":3158},"end":{"line":93,"column":52,"offset":3209},"indent":[]}}],"position":{"start":{"line":93,"column":1,"offset":3158},"end":{"line":93,"column":52,"offset":3209},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"- constructor (\n         string memory name,\n         string memory symbol,\n         uint256 _marketId,\n         address tokenU,\n         address tokenS,\n         uint256 base,\n         uint256 price,\n         uint256 expiry\n     )","position":{"start":{"line":94,"column":1,"offset":3210},"end":{"line":103,"column":11,"offset":3481},"indent":[1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Choosing the Identifiers","position":{"start":{"line":105,"column":6,"offset":3488},"end":{"line":105,"column":30,"offset":3512},"indent":[]}}],"position":{"start":{"line":105,"column":1,"offset":3483},"end":{"line":105,"column":30,"offset":3512},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The name, symbol, and marketId will be the identifiers for the option contract. There will be extension contracts\nwhich will track these identifiers in a global list of Prime options outstanding.","position":{"start":{"line":107,"column":1,"offset":3514},"end":{"line":108,"column":82,"offset":3709},"indent":[1]}}],"position":{"start":{"line":107,"column":1,"offset":3514},"end":{"line":108,"column":82,"offset":3709},"indent":[1]}},{"type":"code","lang":null,"meta":null,"value":"- string memory name, <-----\n- string memory symbol, <-----\n- uint256 _marketId, <-----\n- address tokenU,\n- address tokenS,\n- uint256 base, \n- uint256 price, \n- uint256 expiry","position":{"start":{"line":109,"column":1,"offset":3710},"end":{"line":116,"column":21,"offset":3917},"indent":[1,1,1,1,1,1,1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Choosing the Assets","position":{"start":{"line":118,"column":6,"offset":3924},"end":{"line":118,"column":25,"offset":3943},"indent":[]}}],"position":{"start":{"line":118,"column":1,"offset":3919},"end":{"line":118,"column":25,"offset":3943},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We choose the underlying asset based on what the user wants to buy, WETH, and we give it a strike price based on the\nstrike asset, which we choose to be stablecoin like DAI. ","position":{"start":{"line":119,"column":1,"offset":3944},"end":{"line":120,"column":58,"offset":4118},"indent":[1]}}],"position":{"start":{"line":119,"column":1,"offset":3944},"end":{"line":120,"column":58,"offset":4118},"indent":[1]}},{"type":"code","lang":null,"meta":null,"value":"- address tokenU, <-----\n- address tokenS, <-----\n- uint256 base, \n- uint256 price, \n- uint256 expiry","position":{"start":{"line":121,"column":1,"offset":4119},"end":{"line":125,"column":21,"offset":4240},"indent":[1,1,1,1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Choosing the rate between the assets","position":{"start":{"line":127,"column":6,"offset":4247},"end":{"line":127,"column":42,"offset":4283},"indent":[]}}],"position":{"start":{"line":127,"column":1,"offset":4242},"end":{"line":127,"column":42,"offset":4283},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The user wants to buy the WETH at a rate of 1 WETH per 200 DAI. WETH is the underlying asset and the amount\nis 1, so that is the \"Base\" value. DAI is the strike asset, with an amount of 200, which is the \"Price\" value.","position":{"start":{"line":128,"column":1,"offset":4284},"end":{"line":129,"column":111,"offset":4502},"indent":[1]}}],"position":{"start":{"line":128,"column":1,"offset":4284},"end":{"line":129,"column":111,"offset":4502},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"The rate for this Prime is:","position":{"start":{"line":131,"column":1,"offset":4504},"end":{"line":131,"column":28,"offset":4531},"indent":[]}}],"position":{"start":{"line":131,"column":1,"offset":4504},"end":{"line":131,"column":28,"offset":4531},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"- 1 WETH / 200 DAI\n- Base / Price\n- Buy 200 DAI for 1 WETH per 1 Prime you own","position":{"start":{"line":132,"column":1,"offset":4532},"end":{"line":134,"column":49,"offset":4622},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"You are changing these values:","position":{"start":{"line":136,"column":1,"offset":4624},"end":{"line":136,"column":31,"offset":4654},"indent":[]}}],"position":{"start":{"line":136,"column":1,"offset":4624},"end":{"line":136,"column":31,"offset":4654},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"- address tokenU,\n- address tokenS,\n- uint256 base, <-----\n- uint256 price, <-----\n- uint256 expiry","position":{"start":{"line":137,"column":1,"offset":4655},"end":{"line":141,"column":21,"offset":4774},"indent":[1,1,1,1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Choosing the expiration date","position":{"start":{"line":144,"column":6,"offset":4782},"end":{"line":144,"column":34,"offset":4810},"indent":[]}}],"position":{"start":{"line":144,"column":1,"offset":4777},"end":{"line":144,"column":34,"offset":4810},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Lets also make the Prime expire at some future point of time, say June of 2020. We can pass an 'expiration'\ndate into the constructor's parameters.","position":{"start":{"line":145,"column":1,"offset":4811},"end":{"line":146,"column":40,"offset":4958},"indent":[1]}}],"position":{"start":{"line":145,"column":1,"offset":4811},"end":{"line":146,"column":40,"offset":4958},"indent":[1]}},{"type":"code","lang":null,"meta":null,"value":"- address tokenU,\n- address tokenS,\n- uint256 base,\n- uint256 price,\n- uint256 expiry <-----","position":{"start":{"line":147,"column":1,"offset":4959},"end":{"line":151,"column":28,"offset":5071},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Now that we have all the ingredients to make a Prime, we can make one and use it.","position":{"start":{"line":153,"column":1,"offset":5073},"end":{"line":153,"column":82,"offset":5154},"indent":[]}}],"position":{"start":{"line":153,"column":1,"offset":5073},"end":{"line":153,"column":82,"offset":5154},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Minting","position":{"start":{"line":155,"column":6,"offset":5161},"end":{"line":155,"column":13,"offset":5168},"indent":[]}}],"position":{"start":{"line":155,"column":1,"offset":5156},"end":{"line":155,"column":13,"offset":5168},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To mint Primes we need to send it the underlying assets. The contract knows how many Primes to output,\nwhich depends on how many underlying assets were sent to it.","position":{"start":{"line":156,"column":1,"offset":5169},"end":{"line":157,"column":61,"offset":5332},"indent":[1]}}],"position":{"start":{"line":156,"column":1,"offset":5169},"end":{"line":157,"column":61,"offset":5332},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"If we send 1 WETH to this contract, the amount of outputted Primes is equal to this input which\nis:","position":{"start":{"line":159,"column":1,"offset":5334},"end":{"line":160,"column":4,"offset":5433},"indent":[1]}}],"position":{"start":{"line":159,"column":1,"offset":5334},"end":{"line":160,"column":4,"offset":5433},"indent":[1]}},{"type":"code","lang":null,"meta":null,"value":"- 1 WETH Input = 1 Prime Output.","position":{"start":{"line":161,"column":1,"offset":5434},"end":{"line":161,"column":37,"offset":5470},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The contract also outputs redeem tokens. The amount of outputted Redeems is proportional to the inputted\nWETH and the rate of the Prime.","position":{"start":{"line":163,"column":1,"offset":5472},"end":{"line":164,"column":32,"offset":5608},"indent":[1]}}],"position":{"start":{"line":163,"column":1,"offset":5472},"end":{"line":164,"column":32,"offset":5608},"indent":[1]}},{"type":"code","lang":null,"meta":null,"value":"- 1 WETH (Input) / (1 WETH (Base) / 200 DAI (Price)) = 200 Redeems to Output. Where Base / Price = Rate.\n- Input Underlying / Rate = Output Redeem.","position":{"start":{"line":165,"column":1,"offset":5609},"end":{"line":166,"column":47,"offset":5764},"indent":[1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Swapping, also called Exercising","position":{"start":{"line":168,"column":6,"offset":5771},"end":{"line":168,"column":38,"offset":5803},"indent":[]}}],"position":{"start":{"line":168,"column":1,"offset":5766},"end":{"line":168,"column":38,"offset":5803},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"When we want to use the Prime and buy the 1 WETH for 200 DAI (swap 200 DAI into 1 WETH),\nwe have to send 200 DAI. We also\nneed to burn a 1:1 amount of Primes based on how many underlying assets we are buying. In this case,\nwe are buying 1 WETH so we need to burn 1 Prime.","position":{"start":{"line":169,"column":1,"offset":5804},"end":{"line":172,"column":49,"offset":6075},"indent":[1,1,1]}}],"position":{"start":{"line":169,"column":1,"offset":5804},"end":{"line":172,"column":49,"offset":6075},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The contract knows how to handle this. ","position":{"start":{"line":174,"column":1,"offset":6077},"end":{"line":174,"column":40,"offset":6116},"indent":[]}}],"position":{"start":{"line":174,"column":1,"offset":6077},"end":{"line":174,"column":40,"offset":6116},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"- 200 DAI * (1 WETH / 200 DAI) = 1 WETH.\n- Input Strike Tokens (DAI) * (Base (Quantity of WETH) / Price (Quantity of DAI)) = Output Underlying Tokens.","position":{"start":{"line":175,"column":1,"offset":6117},"end":{"line":176,"column":114,"offset":6275},"indent":[1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Redeeming","position":{"start":{"line":179,"column":6,"offset":6283},"end":{"line":179,"column":15,"offset":6292},"indent":[]}}],"position":{"start":{"line":179,"column":1,"offset":6278},"end":{"line":179,"column":15,"offset":6292},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Since we just bought the 1 WETH for 200 DAI, where does the DAI go and who gets the DAI?","position":{"start":{"line":180,"column":1,"offset":6293},"end":{"line":180,"column":89,"offset":6381},"indent":[]}}],"position":{"start":{"line":180,"column":1,"offset":6293},"end":{"line":180,"column":89,"offset":6381},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The DAI goes to the Prime contract and it is redeemable at a 1:1 ratio using the Redeem token.","position":{"start":{"line":182,"column":1,"offset":6383},"end":{"line":182,"column":95,"offset":6477},"indent":[]}}],"position":{"start":{"line":182,"column":1,"offset":6383},"end":{"line":182,"column":95,"offset":6477},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"- Input Redeem = Output Strike (DAI).","position":{"start":{"line":183,"column":1,"offset":6478},"end":{"line":183,"column":42,"offset":6519},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Closing","position":{"start":{"line":185,"column":6,"offset":6526},"end":{"line":185,"column":13,"offset":6533},"indent":[]}}],"position":{"start":{"line":185,"column":1,"offset":6521},"end":{"line":185,"column":13,"offset":6533},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"What about the case where we want to withdraw our underlying assets that we used in order to mint the Prime.\nThe Prime and the Redeem token can be sent to the contract in exchange for the underlying tokens.\nIn this case, it is a lot like the reverse of the minting process!","position":{"start":{"line":186,"column":1,"offset":6534},"end":{"line":188,"column":67,"offset":6807},"indent":[1,1]}}],"position":{"start":{"line":186,"column":1,"offset":6534},"end":{"line":188,"column":67,"offset":6807},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"If you minted 1 Prime and 200 Redeems in exchange for 1 WETH, you need to send the contract 1 Prime and \n200 Redeems in order to withdraw 1 WETH.","position":{"start":{"line":190,"column":1,"offset":6809},"end":{"line":191,"column":41,"offset":6954},"indent":[1]}}],"position":{"start":{"line":190,"column":1,"offset":6809},"end":{"line":191,"column":41,"offset":6954},"indent":[1]}},{"type":"code","lang":null,"meta":null,"value":"- Input Redeem Tokens * Rate & Prime Tokens = Output Underlying Tokens.","position":{"start":{"line":192,"column":1,"offset":6955},"end":{"line":192,"column":76,"offset":7030},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Expiration","position":{"start":{"line":194,"column":5,"offset":7036},"end":{"line":194,"column":15,"offset":7046},"indent":[]}}],"position":{"start":{"line":194,"column":1,"offset":7032},"end":{"line":194,"column":15,"offset":7046},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"A feature of binary options is that they are not usually perpetual instruments, they expire and render the \n'option' to buy the underlying assets invalid. This feature of expiration is baked in to each Prime.","position":{"start":{"line":196,"column":1,"offset":7048},"end":{"line":197,"column":101,"offset":7256},"indent":[1]}}],"position":{"start":{"line":196,"column":1,"offset":7048},"end":{"line":197,"column":101,"offset":7256},"indent":[1]}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"When the expiration date arrives, the ability to 'mint' and 'swap' is automatically locked.","position":{"start":{"line":199,"column":3,"offset":7260},"end":{"line":199,"column":94,"offset":7351},"indent":[]}}],"position":{"start":{"line":199,"column":1,"offset":7258},"end":{"line":199,"column":96,"offset":7353},"indent":[]}}],"position":{"start":{"line":199,"column":1,"offset":7258},"end":{"line":199,"column":96,"offset":7353},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"modifier notExpired {\n    require(option.expiry >= block.timestamp, \"ERR_EXPIRED\");\n    _;\n}","position":{"start":{"line":201,"column":1,"offset":7355},"end":{"line":204,"column":6,"offset":7463},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"This is a process where the contract begins to unwind, where the remaining assets left in the contract\nstart to go back to users as they withdraw them.","position":{"start":{"line":206,"column":1,"offset":7465},"end":{"line":207,"column":49,"offset":7616},"indent":[1]}}],"position":{"start":{"line":206,"column":1,"offset":7465},"end":{"line":207,"column":49,"offset":7616},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"Of course, its possible to make a perpetual option by passing in a very far our expiration date, like 2100...","position":{"start":{"line":209,"column":1,"offset":7618},"end":{"line":209,"column":110,"offset":7727},"indent":[]}}],"position":{"start":{"line":209,"column":1,"offset":7618},"end":{"line":209,"column":110,"offset":7727},"indent":[]}},{"type":"export","value":"export const _frontmatter = {}","position":{"start":{"line":214,"column":1,"offset":7732},"end":{"line":214,"column":31,"offset":7762},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":214,"column":31,"offset":7762}}},"scopeImports":[],"scopeIdentifiers":[],"rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\nimport DefaultLayout from \"C:/Users/alexa/OneDrive/Documents/Master/Blockchain/primitive-docs/node_modules/gatsby-theme-docz/src/base/Layout.js\"\nexport const _frontmatter = {};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h2 {...{\n      \"id\": \"primitive-contracts\"\n    }}>{`Primitive contracts`}</h2>\n    <h3 {...{\n      \"id\": \"mainnet\"\n    }}>{`Mainnet`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Active - `}<a parentName=\"li\" {...{\n          \"href\": \"https://etherscan.io/address/0xced83f96aa38bfe34617ea1f699f9f0022548f61\"\n        }}>{`PrimeOption - ETH $200 DAI Put Expiring May 30`}</a>{`\n0xced83f96AA38bFe34617ea1F699F9f0022548f61`}</li>\n      <li parentName=\"ul\">{`Active - `}<a parentName=\"li\" {...{\n          \"href\": \"https://etherscan.io/address/0xb0a4d596939715f203fa9e907935938fedea715f\"\n        }}>{`PrimeRedeem - Redeem token for ETH 200 Put`}</a>{`\n0xB0A4d596939715f203Fa9E907935938FEdEa715F`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"overview\"\n    }}>{`Overview`}</h2>\n    <p>{`The protocol's design is rooted in simplicity, strength, and security. We keep the basic logic\nseparate from the complex logic, and favor efficient simple systems.`}</p>\n    <p>{`The primitives we design serve as the seed to larger systems. These are contracts that are designed to be used in other\nsystems as building blocks and mediums to exchange value. `}</p>\n    <h2 {...{\n      \"id\": \"the-prime\"\n    }}>{`The Prime`}</h2>\n    <p>{`The first of these core contract 'primitives' we've designed is the `}<a parentName=\"p\" {...{\n        \"href\": \"\"\n      }}>{`Prime`}</a>{`,\na smarter ERC-20 token with embedded optionality. `}</p>\n    <p>{`The Prime is a token which gives the holder the ability to swap two\nassets at a fixed exchange rate for a fixed lifetime.\nIn this way, it acts similarly to a traditional binary option from legacy finance. We've designed the\nPrime to match the specification of a binary option.`}</p>\n    <h4 {...{\n      \"id\": \"the-binary-option-specification\"\n    }}>{`The binary option specification:`}</h4>\n    <pre><code parentName=\"pre\" {...{}}>{`- Underlying asset.\n- Strike Price denominated in $USD.\n- Expiration date.\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"the-prime-specification\"\n    }}>{`The Prime specification:`}</h4>\n    <pre><code parentName=\"pre\" {...{}}>{`- Address of underlying token.\n- Address of stike token.\n- \"Base\" value (Amount of underlying tokens).\n- \"Price\" value (Amount of strike tokens).\n- Expiration Date, a UNIX timestamp.\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"four-token-design\"\n    }}>{`Four Token Design`}</h4>\n    <p>{`The Prime contract accepts certain tokens as inputs and knows what tokens to output. There are four\ncritical tokens that are apart of this system:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`- Prime\n- Redeem\n- Underlying\n- Strike\n`}</code></pre>\n    <p>{`The Prime is a token which lets the user swap strike tokens for underlying tokens. `}</p>\n    <p>{`This is possible because in order to create new Primes, there has to be deposited underlying tokens.\nThe simplicity in the system\ncomes from this four token design, which makes the input/output calculations simple accounting formulas.`}</p>\n    <h2 {...{\n      \"id\": \"accounting-formulae--functions\"\n    }}>{`Accounting Formulae & Functions`}</h2>\n    <h3 {...{\n      \"id\": \"the-golden-ratio\"\n    }}>{`The Golden Ratio`}</h3>\n    <pre><code parentName=\"pre\" {...{}}>{`- Base    Underlying    Primes\n- ----- = ---------- = ---------\n- Price     Strike      Redeems\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"mint\"\n    }}>{`Mint`}</h3>\n    <pre><code parentName=\"pre\" {...{}}>{`- Input Underlying Tokens = Output Prime Tokens.\n- Input Underlying Tokens / Rate = Output Redeem Tokens.\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"swap-exercise\"\n    }}>{`Swap (Exercise)`}</h3>\n    <pre><code parentName=\"pre\" {...{}}>{`- Input Strike Tokens * Rate = Output Underlying Tokens.\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"redeem\"\n    }}>{`Redeem`}</h3>\n    <pre><code parentName=\"pre\" {...{}}>{`- Input Redeem Tokens = Output Strike Tokens.\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"close\"\n    }}>{`Close`}</h3>\n    <pre><code parentName=\"pre\" {...{}}>{`- Input Redeem Tokens * Rate + Prime Tokens = Output Underlying Tokens.\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"whats-the-rate\"\n    }}>{`What's the Rate?`}</h3>\n    <p>{`The rate is the exchange rate, also called the strike price, between the two tokens that the Prime is defined with.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`- Rate = \"Base\" / \"Price\", where Base is the amount of underlying tokens and price is the amount of strike tokens.\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"example-1\"\n    }}>{`Example #1`}</h2>\n    <h4 {...{\n      \"id\": \"scenario\"\n    }}>{`Scenario`}</h4>\n    <p>{`We want to make a Prime that lets the user buy WETH at some fixed price,\nhow can we do that?`}</p>\n    <p>{`This is the full constructor of the Prime contract:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`- constructor (\n         string memory name,\n         string memory symbol,\n         uint256 _marketId,\n         address tokenU,\n         address tokenS,\n         uint256 base,\n         uint256 price,\n         uint256 expiry\n     )\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"choosing-the-identifiers\"\n    }}>{`Choosing the Identifiers`}</h4>\n    <p>{`The name, symbol, and marketId will be the identifiers for the option contract. There will be extension contracts\nwhich will track these identifiers in a global list of Prime options outstanding.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`- string memory name, <-----\n- string memory symbol, <-----\n- uint256 _marketId, <-----\n- address tokenU,\n- address tokenS,\n- uint256 base, \n- uint256 price, \n- uint256 expiry\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"choosing-the-assets\"\n    }}>{`Choosing the Assets`}</h4>\n    <p>{`We choose the underlying asset based on what the user wants to buy, WETH, and we give it a strike price based on the\nstrike asset, which we choose to be stablecoin like DAI. `}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`- address tokenU, <-----\n- address tokenS, <-----\n- uint256 base, \n- uint256 price, \n- uint256 expiry\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"choosing-the-rate-between-the-assets\"\n    }}>{`Choosing the rate between the assets`}</h4>\n    <p>{`The user wants to buy the WETH at a rate of 1 WETH per 200 DAI. WETH is the underlying asset and the amount\nis 1, so that is the \"Base\" value. DAI is the strike asset, with an amount of 200, which is the \"Price\" value.`}</p>\n    <p>{`The rate for this Prime is:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`- 1 WETH / 200 DAI\n- Base / Price\n- Buy 200 DAI for 1 WETH per 1 Prime you own\n`}</code></pre>\n    <p>{`You are changing these values:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`- address tokenU,\n- address tokenS,\n- uint256 base, <-----\n- uint256 price, <-----\n- uint256 expiry\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"choosing-the-expiration-date\"\n    }}>{`Choosing the expiration date`}</h4>\n    <p>{`Lets also make the Prime expire at some future point of time, say June of 2020. We can pass an 'expiration'\ndate into the constructor's parameters.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`- address tokenU,\n- address tokenS,\n- uint256 base,\n- uint256 price,\n- uint256 expiry <-----\n`}</code></pre>\n    <p>{`Now that we have all the ingredients to make a Prime, we can make one and use it.`}</p>\n    <h4 {...{\n      \"id\": \"minting\"\n    }}>{`Minting`}</h4>\n    <p>{`To mint Primes we need to send it the underlying assets. The contract knows how many Primes to output,\nwhich depends on how many underlying assets were sent to it.`}</p>\n    <p>{`If we send 1 WETH to this contract, the amount of outputted Primes is equal to this input which\nis:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`- 1 WETH Input = 1 Prime Output.\n`}</code></pre>\n    <p>{`The contract also outputs redeem tokens. The amount of outputted Redeems is proportional to the inputted\nWETH and the rate of the Prime.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`- 1 WETH (Input) / (1 WETH (Base) / 200 DAI (Price)) = 200 Redeems to Output. Where Base / Price = Rate.\n- Input Underlying / Rate = Output Redeem.\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"swapping-also-called-exercising\"\n    }}>{`Swapping, also called Exercising`}</h4>\n    <p>{`When we want to use the Prime and buy the 1 WETH for 200 DAI (swap 200 DAI into 1 WETH),\nwe have to send 200 DAI. We also\nneed to burn a 1:1 amount of Primes based on how many underlying assets we are buying. In this case,\nwe are buying 1 WETH so we need to burn 1 Prime.`}</p>\n    <p>{`The contract knows how to handle this. `}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`- 200 DAI * (1 WETH / 200 DAI) = 1 WETH.\n- Input Strike Tokens (DAI) * (Base (Quantity of WETH) / Price (Quantity of DAI)) = Output Underlying Tokens.\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"redeeming\"\n    }}>{`Redeeming`}</h4>\n    <p>{`Since we just bought the 1 WETH for 200 DAI, where does the DAI go and who gets the DAI?`}</p>\n    <p>{`The DAI goes to the Prime contract and it is redeemable at a 1:1 ratio using the Redeem token.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`- Input Redeem = Output Strike (DAI).\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"closing\"\n    }}>{`Closing`}</h4>\n    <p>{`What about the case where we want to withdraw our underlying assets that we used in order to mint the Prime.\nThe Prime and the Redeem token can be sent to the contract in exchange for the underlying tokens.\nIn this case, it is a lot like the reverse of the minting process!`}</p>\n    <p>{`If you minted 1 Prime and 200 Redeems in exchange for 1 WETH, you need to send the contract 1 Prime and\n200 Redeems in order to withdraw 1 WETH.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`- Input Redeem Tokens * Rate & Prime Tokens = Output Underlying Tokens.\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"expiration\"\n    }}>{`Expiration`}</h3>\n    <p>{`A feature of binary options is that they are not usually perpetual instruments, they expire and render the\n'option' to buy the underlying assets invalid. This feature of expiration is baked in to each Prime.`}</p>\n    <p><strong parentName=\"p\">{`When the expiration date arrives, the ability to 'mint' and 'swap' is automatically locked.`}</strong></p>\n    <pre><code parentName=\"pre\" {...{}}>{`modifier notExpired {\n    require(option.expiry >= block.timestamp, \"ERR_EXPIRED\");\n    _;\n}\n`}</code></pre>\n    <p>{`This is a process where the contract begins to unwind, where the remaining assets left in the contract\nstart to go back to users as they withdraw them.`}</p>\n    <p>{`Of course, its possible to make a perpetual option by passing in a very far our expiration date, like 2100...`}</p>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}